<!DOCTYPE html>
<html>
<head>
	<title>Media Server</title>
	<style>
		.image-container {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 80vh;
		}
		.image-container img {
			max-width: 100%;
			max-height: 100%;
		}
		
		.navigation-buttons {
		display: flex;
		justify-content: center;
		margin-top: 1rem;
		}

		.navigation-buttons button {
		margin: 0 0.5rem;
		padding: 0.5rem 1rem;
		font-size: 1rem;
		}
	</style>
</head>
<body>
	<h1>Media server</h1>
	<div class="image-container">
		<img id="currentImage" src="" alt="Image">
		<video id="myVideo" controls autoplay>
			<source id="currentImage" src="" alt="Video" type<video/mp4>
		</video>
	</div>
	
	<div class="navigation-buttons">
		<button id="previousButton">Previous</button>
		<button id="nextButton">Next</button>
	</div>
	
	<script src="hammer.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script> -->
	<script>
		const imagePaths = [
			"images/1.jpg",
			"images/2.jpg",
			"images/3.jpg",
			"images/1.mp4",
			"images/2.mp4"
			];
		
		let currentIndex = 0;
		const imageElement = document.getElementById("currentImage");
		
		const previousButton = document.getElementById("previousButton");
		const nextButton = document.getElementById("nextButton");
		
		previousButton.addEventListener('click', showPreviousImage);
		nextButton.addEventListener('click', showNextImage);
		
		const hammer = new Hammer(document.body);
		hammer.get('swipe').set({direction: Hammer.DIRECTION_HORIZONTAL});
		hammer.on('swipeleft', showNextImage);
		hammer.on('swiperight', showPreviousImage);
		
		function showNextImage() {
			currentIndex = (currentIndex + 1) % imagePaths.length;
			updateImage();
		}

		function showPreviousImage() {
			currentIndex = (currentIndex - 1 + imagePaths.length) % imagePaths.length;
			updateImage();
		}

		function updateImage() {
			const imagePath = imagePaths[currentIndex];
			imageElement.src = imagePath;
			document.getElementById("myVideo").load();
		}
		
		updateImage();
	</script>
</body>
</html>